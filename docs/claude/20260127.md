# 2026-01-27 作業記録

## 本日の決定事項

### 認証・DB

- 認証: Google ログイン (NextAuth.js)
- DB: Turso (SQLite 互換)
- プライバシーポリシー: 最低限のもの作って `/privacy` に配置

### テーブル設計 (確定)

```
┌─────────────────┐
│     users       │
├─────────────────┤
│ id        UUID  │  PK
│ email     TEXT  │  UNIQUE
│ name      TEXT  │
│ image     TEXT  │  nullable
│ created_at      │
│ updated_at      │
│ deleted_at      │  nullable
└────────┬────────┘
         │
         │ 1:N
         ▼
┌─────────────────┐
│     goals       │
├─────────────────┤
│ id        UUID  │  PK
│ user_id   UUID  │  FK → users
│ title     TEXT  │
│ description     │  nullable
│ status    ENUM  │  active / archived
│ created_at      │
│ updated_at      │
│ deleted_at      │  nullable
└────────┬────────┘
         │
         │ 1:N
         ▼
┌─────────────────────┐
│    reflections      │
├─────────────────────┤
│ id          UUID    │  PK
│ goal_id     UUID    │  FK → goals
│ good        TEXT    │  nullable
│ bad         TEXT    │  nullable
│ analysis    TEXT    │  nullable
│ next_action TEXT    │  nullable
│ date        DATE    │  振り返り対象日
│ created_at          │
│ updated_at          │
│ deleted_at          │  nullable
└─────────────────────┘
```

### 設計方針

- テーブル名・カラム名: スネークケース
- テーブル名: 複数形
- id: UUID
- 論理削除: deleted_at で管理
- status: enum (active / archived)
- date: 振り返り対象日 (created_at とは別に保持、書き忘れ対応のため)

### UI ライブラリ

- shadcn/ui を採用

### 画面構成 (MVP)

| パス       | 画面                 | 説明                                        |
| ---------- | -------------------- | ------------------------------------------- |
| /login     | ログイン             | Google ログインボタンのみ                   |
| /dashboard | ダッシュボード       | 目標一覧 + 各目標に紐づく振り返り履歴・入力 |
| /privacy   | プライバシーポリシー | 静的ページ                                  |

---

## 作業ログ

### 初期セットアップ

- [x] Next.js プロジェクト作成 (TypeScript + Tailwind + App Router)
- [x] ESLint / Prettier 設定
- [x] Husky + lint-staged 設定
- [x] .nvmrc 作成 (Node.js 24.13.0)
- [x] Prisma セットアップ (スキーマ定義完了)
- [x] NextAuth.js + Google ログイン設定
- [x] shadcn/ui セットアップ

### 次のステップ

- [ ] ログインページ (/login) 実装
- [ ] ダッシュボードページ (/dashboard) 実装
- [ ] プライバシーポリシーページ (/privacy) 実装
- [ ] Turso 連携 (本番用)
- [ ] Vercel デプロイ設定
